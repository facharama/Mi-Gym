{% extends 'home/index.html' %}

{% block inicio %}
{% endblock inicio %}

{% block content %}
<section class="hero">
<div class="container my-5 hero">
	<div class="card shadow">
	  <div class="card-header bg-indigo text-indigo-light">
		<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3">
		  <h3 class="mb-0">Empleados</h3>
  
		  <form method="get" class="d-flex align-items-center gap-2">
			<input 
				type="text" 
				name="apellido" 
				class="form-control form-control-sm" 
				placeholder="Filtrar por Apellido"
				value="{{ request.GET.departamento|default_if_none:'' }}"
		  	>
		  <button type="submit" class="btn btn-sm btn-outline-primary">Buscar</button>
		  </form>
  
		  <a href="{% url 'empleado_create' %}" class="btn btn-sm btn-indigo">
			âž• Nuevo empleado
		  </a>
		</div>
	  </div>
  
	  <div class="card-body">
		<ul class="list-group list-group-flush">
		  {% for empleado in object_list %}
		  <li class="list-group-item d-flex justify-content-between align-items-center">
			<div><span>{{ empleado }}</span></div>
			<div class="d-flex gap-2">
			  <a href="{% url 'empleado_detail' empleado.pk %}" class="btn btn-sm btn-outline-primary" title="Ver">
				<i class="bi bi-search"></i>
			  </a>
			  <a href="{% url 'empleado_update' empleado.pk %}" class="btn btn-sm btn-outline-success" title="Editar">
				<i class="bi bi-pencil"></i>
			  </a>
			  <a href="{% url 'empleado_delete' empleado.pk %}" class="btn btn-sm btn-outline-danger" title="Eliminar">
				<i class="bi bi-trash"></i>
			  </a>
			</div>
		  </li>
		  {% empty %}
		  <li class="list-group-item">No hay empleados registrados con ese filtro aplicado.</li>
		  {% endfor %}
		</ul>
	  </div>
	</div>
  </div>
</section>
{% endblock %}